{"version":3,"sources":["src/assets/javascripts/main.js","src/assets/javascripts/sidebarjs.js"],"names":[],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA,kBAAkB;;AAElB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,uBAAuB;AACvB;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,+CAA+C;AAC/C;AACA;;AAEA;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,oCAAoC;AACpC,oCAAoC;AACpC,4CAA4C;AAC5C,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC,uBAAuB,8BAA8B;;AAE7F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC;AACzC,0CAA0C;;AAE1C;;AAEA;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB,8CAA8C;AAC9C;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,oBAAoB;AACjD;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB,gDAAgD;AAChD;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB;AACjB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA,uCAAuC,oBAAoB;AAC3D;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;;AAEf;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA,uCAAuC,oBAAoB;AAC3D;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;;AAEf;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;;AAEd;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA,uCAAuC,oBAAoB;AAC3D;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA;;AAEA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA,uBAAuB;AACvB;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA,uCAAuC,oBAAoB;AAC3D;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA;AACA,oBAAoB;AACpB;AACA,mDAAmD;;AAEnD;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,8DAA8D;AAC9D;AACA;;AAEA;AACA,uCAAuC,oBAAoB;AAC3D;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA,sBAAsB;AACtB;AACA;AACA,oBAAoB;AACpB;AACA,mDAAmD;;AAEnD;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA,0DAA0D;AAC1D;AACA;;AAEA;AACA,oCAAoC,oBAAoB;AACxD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;;AAEb;AACA;;AAEA,CAAC;;CCvuFD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0GAA0G;AAC1G,CAAC,4BAA4B;;AAE7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;;AAEA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,uBAAuB,sBAAsB;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,8FAA8F,iBAAiB;AAC/G;;AAEA;AACA,yCAAyC,iBAAiB;AAC1D;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;;AAEA,gDAAgD,cAAc;;AAE9D,CAAC","file":"scripts.js","sourcesContent":["// Capturing XY positions for tooltips\nlet xLocation;\nlet yLocation;\n\n// loader while map layers are rendering\nlet loader;\n\n// Variables for the data classification\nlet interval0;\nlet interval1;\nlet interval2;\nlet interval3;\nlet interval4;\nlet interval5;\nlet interval6;\n\n// Selected dataset array\nlet dataArray;\n\n// Basemap data either 'buurt' or 'stadsdeel' *default is buurt\nlet baseStatus = 'buurt';\n\n// Default base attribute on basemap data\nconst basedataDefault = 'm_exercise';\n\n// Selected attribute in the basemap data\nlet selectedAttribute; //'healthy','m_drinker', 'smoker', 'overweight', 'illness', 'physical_p', 'depression', or 'loneliness'\n\n// Basemap JSON data\nlet baseJson;\n\n// Map initialization status\nlet mapInitialize; //If map was rendered for the first time (true/false)\n\n// Object in vizmap function contains all functions of rendering map layers\nlet mapLayers;\n\n// SVG map layers\nlet basebuurt_svg;\nlet basestadsdeel_svg;\nlet bennekel_svg;\n\nlet geojson_bs;\n\nlet buurt_each;\n\n//function to change attribute, color filling and legend on the base maps\nlet changeAttr;\n\n//function to change between buurten and stadsdelen\nlet changeBasemap;\n\n//function to add overlay maps\nlet addOverlay;\n\n//bindData functions for basemap buurt and stadsdeel;\nlet bindDataBB;\nlet bindDataBS;\n\n// Tooltip DOM (Basemap)\nlet tooltipContainerBM;\nlet tooltipPlace;\nlet tooltipValue;\n\n// Tooltip DOM (Overlay)\nlet tooltipContainerOL;\nlet tooltipType;\nlet tooltipName;\nlet tooltipMoreData;\n\n// Tooltip DOM (airquality)\nlet tooltipContainerAQ;\nlet tooltipPM1;\nlet tooltipPM25;\nlet tooltipPM10;\n\n// Tooltip DOM (public concerns)\nlet tooltipContainerPC;\nlet tooltipConcernsTopic;\nlet tooltipConcernsTime;\n\n// Tooltip DOM (traffic)\nlet tooltipContainerTR;\nlet tooltipSpeedLimit;\n\n// Tooltip DOM (Benekel)\nlet tooltipContainerBK;\n\n//Sidebar\nlet sidebarjs;\nlet sideContent;\nlet clickedPathActive;\nclickedPathActive = false;\n\n//Demographic data DOM\nlet selectedNeighbor;\nlet totalpop;\nlet men;\nlet men_figure;\nlet women;\nlet women_figure;\nlet age0_14;\nlet age0_14_figure;\nlet age15_64;\nlet age15_64_figure;\nlet age65;\nlet age65_figure;\nlet dutch;\nlet dutch_figure;\nlet immigrants;\nlet immigrants_figure;\nlet single;\nlet single_figure;\nlet wKids;\nlet wKids_figure;\nlet income;\nlet income_figure;\n\nlet foot;\nlet foot_figure;\nlet bike;\nlet bike_figure;\nlet auto;\nlet auto_figure;\nlet transit;\nlet transit_figure;\n\n// Move DOM(each neighborhood) position when clicked\nlet gElem;\nlet clickedPath;\nlet copiedPath;\n\n// For coloring info icon next to the basemap attribute selection\nlet basemapAttr;\nlet basemapInfo;\n\n//Benekel information modal\nlet pageHinder;\nlet benekelModal;\nlet benekelModalClose;\n\n//After all DOM is loaded\nwindow.onload = function(){\n\n  //Assign DOMs to each variable\n  tooltipContainerBM = document.getElementById('basemap-tooltip');\n  tooltipPlace = document.getElementById('basemap-tooltip-place');\n  tooltipValue = document.getElementById('basemap-tooltip-value');\n\n  tooltipContainerOL = document.getElementById('overlay-tooltip');\n  tooltipType = document.getElementById('overlay-tooltip-type');\n  tooltipName = document.getElementById('overlay-tooltip-name');\n\n  tooltipContainerAQ = document.getElementById('airquality-tooltip');\n  tooltipPM1 = document.getElementById('airquality-tooltip-pm1');\n  tooltipPM25 = document.getElementById('airquality-tooltip-pm25');\n  tooltipPM10 = document.getElementById('airquality-tooltip-pm10');\n\n  tooltipMoreData = document.getElementById('basemap-tooltip-moreData');\n\n  tooltipContainerPC = document.getElementById('publicconcerns-tooltip');\n  tooltipConcernsTopic = document.getElementById('overlay-tooltip-topic');\n  tooltipConcernsTime = document.getElementById('overlay-tooltip-time');\n\n  tooltipContainerTR = document.getElementById('traffic-tooltip');\n  tooltipSpeedLimit = document.getElementById('overlay-tooltip-speedlimit');\n\n  tooltipContainerBK = document.getElementById('bennekel-tooltip');\n\n  // mouse x y position\n  document.addEventListener('mousemove', (e) => {\n    //e = e || window.event;\n    xLocation = e.clientX;\n    yLocation = e.clientY;\n    // console.log(xLocation);\n    // console.log(yLocation);\n\n    tooltipContainerBM.style.left = xLocation + \"px\";\n    tooltipContainerBM.style.top = yLocation + \"px\";\n\n    tooltipContainerOL.style.left = xLocation + \"px\";\n    tooltipContainerOL.style.top = yLocation + \"px\";\n\n    tooltipContainerAQ.style.left = xLocation + \"px\";\n    tooltipContainerAQ.style.top = yLocation + \"px\";\n\n    tooltipContainerPC.style.left = xLocation + \"px\";\n    tooltipContainerPC.style.top = yLocation + \"px\";\n\n    tooltipContainerBK.style.left = xLocation + \"px\";\n    tooltipContainerBK.style.top = yLocation + \"px\";\n\n    tooltipContainerTR.style.left = xLocation + \"px\";\n    tooltipContainerTR.style.top = yLocation + \"px\";\n\n  });\n\n  // Create sidebarjs instance\n  sidebarjs = new SidebarJS.SidebarElement({\n    backdropOpacity: 0\n    //nativeSwipe: false,\n  });\n\n  const sliderClose = document.getElementById('slider-close');\n  sliderClose.addEventListener('click', (e)=> {\n    sidebarjs.close();\n    if (clickedPathActive == true) {\n      clickedPath[0].classList.remove('clickedNeighbor');\n      clickedPathActive = false;\n    }\n    clickedPath = undefined;\n  })\n\n  sideContent = document.getElementById('sideContent');\n  //console.log(sideContent);\n\n  sideContent.setAttribute('aria-hidden', 'false');\n\n  selectedNeighbor = document.getElementById('selected-neighbor');\n  totalpop = document.getElementById('demography-totalpop');\n  men = document.getElementById('demography-men');\n  men_figure = document.getElementById('demography-men-figure');\n  women = document.getElementById('demography-women');\n  women_figure = document.getElementById('demography-women-figure');\n  age0_14 = document.getElementById('demography-age0-14');\n  age0_14_figure = document.getElementById('demography-age0-14-figure');\n  age15_64 = document.getElementById('demography-age15-64');\n  age15_64_figure = document.getElementById('demography-age15-64-figure');\n  age65 = document.getElementById('demography-age65');\n  age65_figure = document.getElementById('demography-age65-figure');\n  dutch = document.getElementById('demography-dutch');\n  dutch_figure = document.getElementById('demography-dutch-figure');\n  immigrants = document.getElementById('demography-immigrants');\n  immigrants_figure = document.getElementById('demography-immigrants-figure');\n  single = document.getElementById('demography-single');\n  single_figure = document.getElementById('demography-single-figure');\n  wKids = document.getElementById('demography-wKids');\n  wKids_figure = document.getElementById('demography-wKids-figure');\n  income = document.getElementById('demography-income');\n\n  foot = document.getElementById('demography-foot');\n  foot_figure = document.getElementById('demography-foot-figure');\n  bike = document.getElementById('demography-bike');\n  bike_figure = document.getElementById('demography-bike-figure');\n  auto = document.getElementById('demography-auto');\n  auto_figure = document.getElementById('demography-auto-figure');\n  transit = document.getElementById('demography-transit');\n  transit_figure = document.getElementById('demography-transit-figure');\n\n  gElem = basebuurt_svg.firstChild;\n  // console.log(gElem);\n\n  //Benekel modal\n  pageHinder = document.getElementById('page-hinder');\n  benekelModal = document.getElementById('Bennekel-modal');\n  benekelModalClose = document.getElementById('Bennekel-modal-close');\n\n  benekelModalClose.addEventListener('click', () => {\n    benekelModal.setAttribute(\"aria-hidden\", \"true\");\n    setTimeout(()=>{\n      pageHinder.setAttribute(\"aria-hidden\", \"true\");\n     }, 500);\n  });\n\n  //Coloring info icon for basemap attribute\n  basemapAttr = document.getElementById('basemap-attr');\n  basemapInfo = document.getElementById('basemap-info');\n\n  const observer = new MutationObserver(records => {\n  if (!basemapAttr.classList.contains('mat-focused')) {\n    basemapInfo.classList.remove('active');\n  }\n  })\n  observer.observe(basemapAttr, {\n    attributes: true,\n    attributeFilter: ['class']\n  })\n\n}\n\n// Common directory for json files\nconst dataPath = '/assets/data/';\n\n// Paths for each json files\n\n//Area\nconst basebuurt_path = dataPath + 'edh_buurt_base.json';\nconst basestadsdeel_path = dataPath + 'edh_stadsdeel_base.json';\nconst outline_path = dataPath + 'edh_outline.json';\nconst bennekel_path = dataPath + 'bennekel.json';\nconst bennekeldata_path = dataPath + 'bennekeldata.json';\n\n//Line\nconst traffic_path = dataPath + 'traffic.json';\nconst bikeroutes_path = dataPath + 'bike_routes.json';\nconst runningroutes_path = dataPath + 'running_routes.json';\n\n//Point\nconst sportsfacilities_path = dataPath + 'sports_facilities.json';\nconst medicalfacilities_path = dataPath + 'medical_facilities.json';\nconst communitycenters_path = dataPath + 'community_centers.json';\nconst sportsshops_path = dataPath + 'sports_shops.json';\nconst grocerystores_path = dataPath + 'grocery_stores.json';\nconst fastfoods_path = dataPath + 'fast_food.json';\n\nconst parksplaygrounds_path = dataPath + 'parks_playgrounds.json';\nconst greenarea_path = dataPath + 'green_area.json';\nconst airquality_path = dataPath + 'airquality_edh.json';\n\nconst publicconcerns_path = dataPath + 'public_concerns.json';\n// demography data for each nieghborhood\nconst demography_path = dataPath + 'edh_demography.json';\n\n//Fetch base buurten data\nconst apiReq_buurt = fetch(basebuurt_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch base stadsdelen data\nconst apiReq_stadsdeel = fetch(basestadsdeel_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch outline data\nconst apiReq_outline = fetch(outline_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch bennekel data\nconst apiReq_bennekel = fetch(bennekel_path).then((response)=> {\n  return response.json();\n});\n\nconst apiReq_bennekeldata = fetch(bennekeldata_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch traffic data\nconst apiReq_traffic = fetch(traffic_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch bike routes data\nconst apiReq_bikeroutes = fetch(bikeroutes_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch running routes data\nconst apiReq_runningroutes = fetch(runningroutes_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch sports facilities data\nconst apiReq_sportsfacilities = fetch(sportsfacilities_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch medical facilities data\nconst apiReq_medicalfacilities = fetch(medicalfacilities_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch community centers data\nconst apiReq_communitycenters = fetch(communitycenters_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch sports shops data\nconst apiReq_sportsshops = fetch(sportsshops_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch groceries data\nconst apiReq_grocerystores = fetch(grocerystores_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch fast food data\nconst apiReq_fastfoods = fetch(fastfoods_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch parks and playgrounds data\nconst apiReq_parksplaygrounds = fetch(parksplaygrounds_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch green area data\nconst apiReq_greenarea = fetch(greenarea_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch demography data\nconst apiReq_demography = fetch(demography_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch airquality data\nconst apiReq_airquality = fetch(airquality_path).then((response)=> {\n  return response.json();\n});\n\n//Fetch comment data\nconst apiReq_publicconcerns = fetch(publicconcerns_path).then((response)=> {\n  return response.json();\n});\n\n//Common function (promise) to read selected basemap data value in advance\n\n// Promise (Step1): array creation of buurt data\nconst pushArray = (attribute, whichbase)=> {\n  return new Promise((resolve, reject) => {\n\n    selectedAttribute = whichbase;\n\n    if (selectedAttribute == 'buurt') {\n      apiReq_buurt.then((data)=> {\n        baseJson = data;\n        dataArray = []; //Clear dataArray\n        checkAttribute();\n      });\n    } else if (selectedAttribute == 'stadsdeel') {\n      apiReq_stadsdeel.then((data)=> {\n        baseJson = data;\n        dataArray = []; //Clear dataArray\n        checkAttribute();\n      });\n    }\n\n    //In case the dataArray is excuted before geeting attribute value\n    function checkAttribute() {\n      if(attribute != 'undefined') {\n        selectedAttribute = attribute;\n        createArray();\n      } else {\n        window.setTimeout(checkAttribute, 500); /* repeat (wait) until data is loaded */\n      }\n    }\n\n    function createArray() {\n      let dataLength = baseJson.features.length;\n      for (let i = 0; i < dataLength; i++) {\n        dataArray.push(baseJson.features[i].properties[selectedAttribute]);\n      }\n    }\n    resolve();\n  })\n}\n\n// Promise (Step2): Calculation of values for map color fill and legend\nconst legendCalc = (p) => {\n  return new Promise((resolve, reject) => {\n    let filteredLegend = dataArray.filter(function (rm) {\n      return rm != null;\n    });\n\n    const aryMax = function (a, b) {return Math.max(a, b);}\n    const aryMin = function (a, b) {return Math.min(a, b);}\n    let max = filteredLegend.reduce(aryMax); // => 10\n    let min = filteredLegend.reduce(aryMin); // => 1\n    let division = Math.round((max - min)/4);\n\n    interval0 = min;\n    interval1 = (min + division) - 1;\n    interval2 = min + division;\n    interval3 = (min + division*2) - 1;\n    interval4 = min + division*2;\n    interval5 = (min + division*3) - 1;\n    interval6 = min + division*3;\n\n    resolve();\n  })\n};\n\n// Promise (Step4): create legend\nconst createLegend = (p) => {\n  return new Promise((resolve, reject) => {\n\n    let legend4a = document.getElementById('legend4a-txt');\n    let legend3a = document.getElementById('legend3a-txt');\n    let legend3b = document.getElementById('legend3b-txt');\n    let legend2a = document.getElementById('legend2a-txt');\n    let legend2b = document.getElementById('legend2b-txt');\n    let legend1a = document.getElementById('legend1a-txt');\n    let legend1b = document.getElementById('legend1b-txt');\n\n    let legendTitle = document.getElementById('legendTitle');\n\n    legend4a.innerText = interval6;\n    legend3a.innerText = interval4;\n    legend3b.innerText = interval5;\n    legend2a.innerText = interval2;\n    legend2b.innerText = interval3;\n    legend1a.innerText = interval0;\n    legend1b.innerText = interval1;\n\n    if (selectedAttribute == 'm_exercise') {\n      legendTitle.innerText = 'Moderate Exercise';\n    } else if (selectedAttribute == 'healthy') {\n      legendTitle.innerText = 'Healthy';\n    } else if (selectedAttribute == 'm_drinker') {\n      legendTitle.innerText = 'Drinker';\n    } else if (selectedAttribute == 'smoker') {\n      legendTitle.innerText = 'Smorker';\n    } else if (selectedAttribute == 'overweight') {\n      legendTitle.innerText = 'Overweight';\n    } else if (selectedAttribute == 'illness') {\n      legendTitle.innerText = 'Illness';\n    } else if (selectedAttribute == 'physical_p') {\n      legendTitle.innerText = 'Physical Unavailability';\n    } else if (selectedAttribute == 'depression') {\n      legendTitle.innerText = 'Depression';\n    } else if (selectedAttribute == 'loneliness') {\n      legendTitle.innerText = 'Loneliness';\n    }\n\n    resolve(p);\n  })\n};\n\n// PromiseError handling\nconst onRejectted = (p)=>{\n  console.log(\"Promise Error\",p);\n}\n\n// Map visualization function\nconst vizmaps = ()=> {\n\n  let map = new L.Map('map-container', {scrollWheelZoom: false}).setView([51.45, 5.450], 12); //*Leaflet uses lat long / original set:[51.4400, 5.4750]\n\n  // Set basemap layers with ESRI Leaflet\n  const basegray = L.esri.basemapLayer('Gray');\n  const basestreet = L.esri.basemapLayer('Streets');\n  const baseimagery = L.esri.basemapLayer('Imagery');\n\n  // Basemap layers\n  const baseLayers = {\n    'Gray': basegray,\n    'Street': basestreet,\n    'Satellite': baseimagery\n  }\n\n  L.esri.basemapLayer('Gray').addTo(map); //default basemap\n  L.control.layers(baseLayers).addTo(map); //basemap options\n\n  mapLayers = {\n\n    // Basemap Neighborhoods\n    basemap_buurt: function basemap_buurt() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_bb = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'basemap-buurt');\n\t\t  let g_bb = svg_bb.append('g').attr('class', 'leaflet-zoom-hide');\n\n      basebuurt_svg = document.getElementById('basemap-buurt');\n\n      d3.json(basebuurt_path).then(function(geojson) {\n        let geojson_bb = geojson;\n        let feature_bb = g_bb.selectAll('path')\n                              .data(geojson_bb.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_bb),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_bb.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px');\n\n            g_bb.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            // Promise (Step3): Fill colors on the map\n          const fillColorsBB = (p) => {\n            return new Promise((resolve, reject) => {\n\n              feature_bb.attr('d', path)\n                .style('stroke', 'rgb(187,187,187)') //#bbbbbb\n                .style('stroke-width', '1px')\n                .attr('class', 'leaflet-interactive')// Release leaflet's css pointer-event:none\n                .style('cursor', 'pointer')\n                .style('fill', (d)=> {\n                  if (d.properties[selectedAttribute] >= interval6) {\n                      return 'rgb(204,76,2)';\n                  } else if (d.properties[selectedAttribute] >= interval4 & d.properties[selectedAttribute] < interval6) {\n                      return 'rgb(254,153,41)';\n                  } else if (d.properties[selectedAttribute] >= interval2 & d.properties[selectedAttribute] < interval4) {\n                      return 'rgb(254,217,142)';\n                  } else if (d.properties[selectedAttribute] >= interval0 & d.properties[selectedAttribute] < interval2) {\n                      return 'rgb(255,255,212)';\n                  } else {\n                    return 'rgb(212,212,212)'; //#d4d4d4;\n                  }\n                })\n                .style('opacity', '0')\n                .transition()\n                .duration(500)\n                .style('opacity', '0.7');\n\n                feature_bb.attr('d', path).on(\"mouseover\", handleMouseOver)\n                  .on(\"mouseout\", handleMouseOut)\n                  .on(\"click\", handleMouseClick);\n\n                resolve(p);\n            })\n          };\n\n          bindDataBB = function(attr, whichbase) {\n\n            Promise.resolve()\n            .then(pushArray.bind(this, attr, whichbase))\n            //depression, disease, h_drinker, healthy, illness, lonliness, m_drinker, m_exercise, neighbor, overweight, physical_p, smoker, : 61\n            .then(legendCalc)\n            .then(fillColorsBB)\n            .then(createLegend)\n            .catch(onRejectted);\n          }\n\n          bindDataBB(basedataDefault, 'buurt');\n\n          function handleMouseOver(d, i) {\n\n            tooltipMoreData.setAttribute('aria-hidden','false');\n\n            d3.select(this)\n              .transition()\n              .style('stroke', 'rgb(0,0,0)')\n              .style('opacity', 1)\n              .duration(200);\n\n              tooltipPlace.innerText = i.properties.neighbor;\n              tooltipContainerBM.setAttribute('aria-hidden','false');\n\n              if (i.properties[selectedAttribute] !== null) {\n                tooltipValue.innerText = i.properties[selectedAttribute] + ' %';\n              } else {\n                tooltipValue.innerText = 'No Data';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerBM.setAttribute('aria-hidden','true');\n            tooltipMoreData.setAttribute('aria-hidden','true');\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke', 'rgb(187,187,187)')\n              .duration(200);\n          }\n\n          function handleMouseClick (d, i) {\n\n            function sendGA (){\n              console.log('ga log sent');\n              gtag('event', 'click', {\n                'event_category': i.properties.neighbor + '_clicked',\n                'event_label': 'Neighborhoods',\n                'value': 0 })\n            };\n            sendGA ();\n\n            let clickedNeighbor = i.properties.neighbor;\n\n            if (clickedPath == undefined && clickedPathActive == false) {\n\n              d3.select(this).classed('clickedNeighbor',true);\n              clickedPath = document.getElementsByClassName('clickedNeighbor');\n              gElem.appendChild(clickedPath[0]);\n              clickedPathActive = true;\n\n            } else if (clickedPath != undefined && clickedPathActive == true){\n\n              clickedPath[0].classList.remove('clickedNeighbor');\n              d3.select(this).classed('clickedNeighbor',true);\n              clickedPath = document.getElementsByClassName('clickedNeighbor');\n              gElem.appendChild(clickedPath[0]);\n\n            } else if (clickedPath != undefined && clickedPathActive == false) {\n\n              d3.select(this).classed('clickedNeighbor',true);\n              clickedPath = document.getElementsByClassName('clickedNeighbor');\n              gElem.appendChild(clickedPath[0]);\n              clickedPathActive = true;\n\n            }\n\n            apiReq_demography.then((data)=> {\n              let demoData = data;\n              let selectedDemoData;\n              let demoDataLength = data.length;\n\n              for (let i = 0; i < demoDataLength; i++) {\n                if (demoData[i].Buurten == clickedNeighbor) {\n                  selectedDemoData = demoData[i];\n\n                  selectedNeighbor.innerText = selectedDemoData.Buurten;\n\n                  if (selectedDemoData.total_population !=\"\") {\n                    totalpop.innerText = selectedDemoData.total_population;\n                  } else {\n                    totalpop.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.men_2020 !=\"\") {\n                    men.innerText = selectedDemoData.men_2020 + \"%\";\n                    men_figure.style.width = selectedDemoData.men_2020 + \"%\";\n                  } else {\n                    men.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.women_2020 !=\"\") {\n                    women.innerText = selectedDemoData.women_2020 + \"%\";\n                    women_figure.style.width = selectedDemoData.women_2020 + \"%\";\n                  } else {\n                    women.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData['0-14_2020'] !=\"\") {\n                    age0_14.innerText = selectedDemoData['0-14_2020'] + \"%\";\n                    age0_14_figure.style.width = selectedDemoData['0-14_2020'] + \"%\";\n                  } else {\n                    age0_14.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData['15-64_2020'] !=\"\") {\n                    age15_64.innerText = selectedDemoData['15-64_2020'] + \"%\";\n                    age15_64_figure.style.width = selectedDemoData['15-64_2020'] + \"%\";\n                  } else {\n                    age15_64.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData['65andAbove_2020'] !=\"\") {\n                    age65.innerText = selectedDemoData['65andAbove_2020'] + \"%\";\n                    age65_figure.style.width = selectedDemoData['65andAbove_2020'] + \"%\";\n                  } else {\n                    age65.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.Dutch_2020 !=\"\") {\n                    dutch.innerText = selectedDemoData.Dutch_2020 + \"%\";\n                    dutch_figure.style.width = selectedDemoData.Dutch_2020 + \"%\";\n                  } else {\n                    dutch.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.immigrants_2020 !=\"\") {\n                    immigrants.innerText = selectedDemoData.immigrants_2020 + \"%\";\n                    immigrants_figure.style.width = selectedDemoData.immigrants_2020 + \"%\";\n                  } else {\n                    immigrants.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.single_2019 !=\"\") {\n                    single.innerText = selectedDemoData.single_2019 + \"%\";\n                    single_figure.style.width = selectedDemoData.single_2019 + \"%\";\n                  } else {\n                    single.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.w_kids_2019 !=\"\") {\n                    wKids.innerText = selectedDemoData.w_kids_2019 + \"%\";\n                    wKids_figure.style.width = selectedDemoData.w_kids_2019 + \"%\";\n                  } else {\n                    wKids.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.avg_income_person_2019 !=\"\") {\n                    income.innerText = \"EUR \" + selectedDemoData.avg_income_person_2019;\n                  } else {\n                    income.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.foot_2019 !=\"\") {\n                    foot.innerText = selectedDemoData.foot_2019 + \"%\";\n                    foot_figure.style.width = selectedDemoData.foot_2019 + \"%\";\n                  } else {\n                    foot.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.fiets_2019 !=\"\") {\n                    bike.innerText = selectedDemoData.fiets_2019 + \"%\";\n                    bike_figure.style.width = selectedDemoData.fiets_2019 + \"%\";\n                  } else {\n                    bike.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.auto_2019 !=\"\") {\n                    auto.innerText = selectedDemoData.auto_2019 + \"%\";\n                    auto_figure.style.width = selectedDemoData.auto_2019 + \"%\";\n                  } else {\n                    auto.innerText = \"No data\"\n                  };\n\n                  if (selectedDemoData.transit_2019 !=\"\") {\n                    transit.innerText = selectedDemoData.transit_2019 + \"%\";\n                    transit_figure.style.width = selectedDemoData.transit_2019 + \"%\";\n                  } else {\n                    transit.innerText = \"No data\"\n                  };\n                  break;\n                };\n              }\n            });\n            sidebarjs.open();\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })//d3.json\n    },//bb\n\n    // Basemap Districts\n    basemap_stadsdeel: function basemap_stadsdeel() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_bs = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'basemap-stadsdeel');\n\t\t  let g_bs = svg_bs.append('g').attr('class', 'leaflet-zoom-hide');\n\n      basestadsdeel_svg = document.getElementById('basemap-stadsdeel');\n\n      if (mapInitialize == true) {\n        basestadsdeel_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(basestadsdeel_path).then(function(geojson) {\n        geojson_bs = geojson;\n        let feature_bs = g_bs.selectAll('path')\n                              .data(geojson_bs.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_bs),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_bs.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px');\n\n            g_bs.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            const fillColorsBS = (p) => {\n              return new Promise((resolve, reject) => {\n\n                feature_bs.attr('d', path)\n                  .style('stroke', 'rgb(187,187,187)') //#bbbbbb\n                  .style('stroke-width', '1px')\n                  .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n                  .style('cursor', 'pointer')\n                  .style('fill', (d)=> {\n                    if (d.properties[selectedAttribute] >= interval6) {\n                        return 'rgb(204,76,2)';\n                    } else if (d.properties[selectedAttribute] >= interval4 & d.properties[selectedAttribute] < interval6) {\n                        return 'rgb(254,153,41)';\n                    } else if (d.properties[selectedAttribute] >= interval2 & d.properties[selectedAttribute] < interval4) {\n                        return 'rgb(254,217,142)';\n                    } else if (d.properties[selectedAttribute] >= interval0 & d.properties[selectedAttribute] < interval2) {\n                        return 'rgb(255,255,212)';\n                    } else {\n                      return 'rgb(212,212,212)'; //#d4d4d4;\n                    }\n                  })\n                  .style('opacity', '0')\n                  .transition()\n                  .duration(500)\n                  .style('opacity', '0.7');\n\n                  feature_bs.attr('d', path).on(\"mouseover\", handleMouseOver)\n                    .on(\"mouseout\", handleMouseOut);\n\n                  resolve(p);\n                })\n            };\n\n            bindDataBS = function (attr, whichbase) {\n\n              Promise.resolve()\n              .then(pushArray.bind(this, attr, whichbase))\n              //depression, disease, h_drinker, healthy, illness, lonliness, m_drinker, m_exercise, neighbor, overweight, physical_p, smoker, : 61\n              .then(legendCalc)\n              .then(fillColorsBS)\n              .then(createLegend)\n              .catch(onRejectted);\n            }\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke', 'rgb(0,0,0)')\n              .duration(200);\n\n              tooltipPlace.innerText = i.properties.districts;\n              tooltipContainerBM.setAttribute('aria-hidden','false');\n\n              if (i.properties[selectedAttribute] != null) {\n                tooltipValue.innerText = i.properties[selectedAttribute] + ' %';\n              } else {\n                tooltipValue.innerText = 'No Data';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerBM.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke', 'rgb(187,187,187)')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //bs\n\n    // Basemap Outline\n    basemap_outline: function basemap_outline() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_bo = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'basemap-outline');\n\t\t  let g_bo = svg_bo.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const baseoutline_svg = document.getElementById('basemap-outline');\n\n      d3.json(outline_path).then(function(geojson) {\n        let geojson_bo = geojson;\n        let feature_bo = g_bo.selectAll('path')\n                              .data(geojson_bo.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_bs),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_bo.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px');\n\n            g_bo.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n                feature_bo.attr('d', path)\n                  .style('stroke', '#999999') //#bbbbbb\n                  .style('stroke-width', '3px')\n                  .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n                  .style('fill', \"none\")\n                  .style('pointer-events', \"none !important\")\n                  .style('opacity', '0.9');\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //bo\n\n    // green area (polygon)\n    green_area: function green_area() {\n\n      let projectPoint = function projectPoint(x, y) {\n        let point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n          this.stream.point(point.x, point.y);\n      };\n\n      // Transform positions\n      let transform = d3.geoTransform({point: projectPoint}),\n        path = d3.geoPath().projection(transform);\n\n      let svg_ga = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'green-area');\n      let g_ga = svg_ga.append('g').attr('class', 'leaflet-zoom-hide');\n\n\n      const greenarea_svg = document.getElementById('green-area');\n\n      if (mapInitialize == true) {\n        greenarea_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(greenarea_path).then(function(geojson) {\n        let geojson_ga = geojson;\n        //console.log(geojson_ga);\n        let feature_ga = g_ga.selectAll('path')\n                              .data(geojson_ga.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_ga),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_ga.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_ga.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_ga.attr('d', path)\n                .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n                .style('cursor', 'pointer')\n                .style('fill', 'rgb(109,192,103)')\n                .style('opacity', '0')\n                .transition()\n                .duration(500)\n                .style('opacity', '0.7');\n\n                feature_ga.attr('d', path).on(\"mouseover\", handleMouseOver)\n                  .on(\"mouseout\", handleMouseOut);\n\n              function handleMouseOver(d, i) {\n\n                d3.select(this)\n                  .transition()\n                  .style('opacity', 1)\n                  .style('stroke-width', \"1px\")\n                  .style('stroke', \"#000\")\n                  .duration(200);\n\n                  function capitalize(initialLetter)\n                  {\n                    return initialLetter[0].toUpperCase() + initialLetter.slice(1);\n                  }\n\n                  tooltipType.innerText = capitalize(i.properties.type);\n                  tooltipContainerOL.setAttribute('aria-hidden','false');\n\n                  if (i.properties.name !== null) {\n                    tooltipName.innerText = capitalize(i.properties.name);\n                  } else {\n                    tooltipName.innerText = 'Not available';\n                  }\n              } //handleMouseOver\n\n              function handleMouseOut (d, i) {\n                tooltipContainerOL.setAttribute('aria-hidden','true');\n\n                d3.select(this)\n                  .transition()\n                  .style('opacity', 0.7)\n                  .style('stroke-width', \"0px\")\n                  .style('stroke', \"none\")\n                  .duration(200);\n              }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //ga\n\n    // Parks and playgrounds (polygon)\n    parks_playgrounds: function parks_playgrounds() {\n\n      let projectPoint = function projectPoint(x, y) {\n        let point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n          this.stream.point(point.x, point.y);\n      };\n\n      // Transform positions\n      let transform = d3.geoTransform({point: projectPoint}),\n        path = d3.geoPath().projection(transform);\n\n      let svg_pp = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'parks-playgrounds');\n      let g_pp = svg_pp.append('g').attr('class', 'leaflet-zoom-hide');\n\n\n      const parksplaygrounds_svg = document.getElementById('parks-playgrounds');\n\n      if (mapInitialize == true) {\n        parksplaygrounds_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(parksplaygrounds_path).then(function(geojson) {\n        let geojson_pp = geojson;\n        let feature_pp = g_pp.selectAll('path')\n                              .data(geojson_pp.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_pp),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_pp.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_pp.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_pp.attr('d', path)\n                .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n                .style('cursor', 'pointer')\n                .style('fill', 'green')\n                .style('opacity', '0')\n                .transition()\n                .duration(500)\n                .style('opacity', '0.7');\n\n                feature_pp.attr('d', path).on(\"mouseover\", handleMouseOver)\n                  .on(\"mouseout\", handleMouseOut);\n\n              function handleMouseOver(d, i) {\n\n                d3.select(this)\n                  .transition()\n                  .style('opacity', 1)\n                  .style('stroke-width', \"1px\")\n                  .style('stroke', \"#000\")\n                  .duration(200);\n\n                  tooltipType.innerText = i.properties.type;\n                  tooltipContainerOL.setAttribute('aria-hidden','false');\n\n                  if (i.properties.name !== null) {\n                    tooltipName.innerText = i.properties.name;\n                  } else {\n                    tooltipName.innerText = 'Not available';\n                  }\n              } //handleMouseOver\n\n              function handleMouseOut (d, i) {\n                tooltipContainerOL.setAttribute('aria-hidden','true');\n\n                d3.select(this)\n                  .transition()\n                  .style('opacity', 0.7)\n                  .style('stroke-width', \"0px\")\n                  .style('stroke', \"none\")\n                  .duration(200);\n              }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //pp\n\n    // Overlay Bennekel\n    bennekel: function bennekel() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_bk = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'bennekel');\n\t\t  let g_bk = svg_bk.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const bennekel_svg = document.getElementById('bennekel');\n\n      if (mapInitialize == true) {\n        bennekel_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(bennekel_path).then(function(geojson) {\n        let geojson_bk = geojson;\n        let feature_bk = g_bk.selectAll('path')\n                              .data(geojson_bk.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_bk),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_bk.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px');\n\n            g_bk.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_bk.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '2px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(27,50,141)')\n              .style('opacity', '0.7');\n\n              feature_bk.attr('d', path).on(\"mouseover\", handleMouseOver)\n                .on(\"mouseout\", handleMouseOut).on(\"click\", handleMouseClick);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke', 'rgb(0,0,0)')\n              .duration(200);\n\n              tooltipContainerBK.setAttribute('aria-hidden','false');\n\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerBK.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke', 'rgb(187,187,187)')\n              .duration(200);\n          }\n\n          function handleMouseClick (d,i) {\n            pageHinder.setAttribute(\"aria-hidden\", \"false\");\n            setTimeout(()=>{\n              benekelModal.setAttribute(\"aria-hidden\", \"false\");\n             }, 500);\n\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //bk\n\n    // Overlay datasets\n\n    // traffic (line)\n    traffic: function traffic() {\n\n      let projectPoint = function projectPoint(x, y) {\n        let point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n          this.stream.point(point.x, point.y);\n      };\n\n      // Transform positions\n      let transform = d3.geoTransform({point: projectPoint}),\n        path = d3.geoPath().projection(transform);\n\n      let svg_tr = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'traffic');\n      let g_tr = svg_tr.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const traffic_svg = document.getElementById('traffic');\n\n      if (mapInitialize == true) {\n        traffic_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(traffic_path).then(function(geojson) {\n        let geojson_tr = geojson;\n        let feature_tr = g_tr.selectAll('path')\n                              .data(geojson_tr.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_tr),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_tr.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_tr.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            let zoomLev = map.getZoom();\n\n\t            feature_tr.attr('d', path)\n                   .style('stroke','#222222') //rgb(189,16,40)\n                   .style('opacity', (d)=> {\n                      if (d.properties.max_speed >= 100) {\n                        return '1';\n                      } else if (d.properties.max_speed < 100 & d.properties.max_speed >= 75) {\n                          return '0.75';\n                      } else if (d.properties.max_speed < 75 & d.properties.max_speed >= 50) {\n                          return '0.5';\n                      } else if (d.properties.max_speed < 50 & d.properties.max_speed >= 25) {\n                          return '0.25';\n                      } else if (d.properties.max_speed < 25) {\n                          return '0';\n                      };\n                   })\n                   //.style('opacity', 0.7)\n                   .style('stroke-width', ()=>{\n                   \t\tif (zoomLev <= 11) {\n\t                        return 1;\n\t                    } else if (zoomLev == 12) {\n\t                        return 1.5;\n\t                    } else if (zoomLev == 13) {\n\t                        return 2;\n\t                    } else if (zoomLev == 14) {\n\t                        return 3;\n\t                    } else if (zoomLev == 15) {\n\t                        return 4;\n\t                    } else if (zoomLev == 16) {\n\t                \t\treturn 5;\n\t                    } else {\n\t                    \treturn 2;\n\t                    }\n                   })\n                   .style('fill', 'none')\n                   .style('pointer-events', 'auto')\n                   .style('cursor', 'pointer')\n        \t\t       .attr('class', 'pointer-release') // Release leaflet's css pointer-event:none\n                   .on(\"mouseover\",handleMouseOver)\n                   .on(\"mouseout\",handleMouseOut);\n\n                  function handleMouseOver(d, i) {\n                      d3.select(this)\n                      .transition()\n                      //.style('opacity', 1)\n                      .style('stroke-width', ()=>{\n                        if (zoomLev <= 11) {\n                           return 2;\n                       } else if (zoomLev == 12) {\n                           return 3;\n                       } else if (zoomLev == 13) {\n                           return 4;\n                       } else if (zoomLev == 14) {\n                           return 6;\n                       } else if (zoomLev == 15) {\n                           return 8;\n                       } else if (zoomLev == 16) {\n                       return 10;\n                       } else {\n                         return 4;\n                       }\n                    })\n                      .duration(200);\n                      if (i.properties.max_speed != 0) {\n                        tooltipSpeedLimit.innerText = i.properties.max_speed + \" km/h\";\n                      } else {\n                        tooltipSpeedLimit.innerText = \"No speed limit (pedestrian/footway)\"\n                      }\n\n                      tooltipContainerTR.setAttribute('aria-hidden','false');\n\n                  } //handleMouseOver\n\n                function handleMouseOut (d, i) {\n                  tooltipContainerTR.setAttribute('aria-hidden','true');\n\n                  d3.select(this)\n                    .transition()\n                    .style('stroke-width', ()=>{\n                      if (zoomLev <= 11) {\n                          return 1;\n                      } else if (zoomLev == 12) {\n                          return 1.5;\n                      } else if (zoomLev == 13) {\n                          return 2;\n                      } else if (zoomLev == 14) {\n                          return 3;\n                      } else if (zoomLev == 15) {\n                          return 4;\n                      } else if (zoomLev == 16) {\n                      return 5;\n                      } else {\n                        return 2;\n                      }\n                    })\n                    .duration(200);\n                }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //tr\n\n    // bike routes (line)\n    bike_routes: function bike_routes() {\n\n      let projectPoint = function projectPoint(x, y) {\n        let point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n          this.stream.point(point.x, point.y);\n      };\n\n      // Transform positions\n      let transform = d3.geoTransform({point: projectPoint}),\n        path = d3.geoPath().projection(transform);\n\n      let svg_br = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'bike-routes');\n      let g_br = svg_br.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const bikeroutes_svg = document.getElementById('bike-routes');\n\n      if (mapInitialize == true) {\n        bikeroutes_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(bikeroutes_path).then(function(geojson) {\n        let geojson_br = geojson;\n        let feature_br = g_br.selectAll('path')\n                              .data(geojson_br.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_br),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_br.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_br.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            let zoomLev = map.getZoom();\n\n\t            feature_br.attr('d', path)\n                   .style('stroke', 'rgb(170, 139, 21)')\n                   .style('opacity', 0.7)\n                   .style('stroke-width', ()=>{\n                   \t\tif (zoomLev <= 11) {\n\t                        return 1;\n\t                    } else if (zoomLev == 12) {\n\t                        return 1.5;\n\t                    } else if (zoomLev == 13) {\n\t                        return 2;\n\t                    } else if (zoomLev == 14) {\n\t                        return 3;\n\t                    } else if (zoomLev == 15) {\n\t                        return 4;\n\t                    } else if (zoomLev == 16) {\n\t                \t\treturn 5;\n\t                    } else {\n\t                    \treturn 1;\n\t                    }\n                   })\n                   .style('fill', 'none')\n        \t\t       .attr('class', 'pointer-release'); // Release leaflet's css pointer-event:none\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //br\n\n     // running_routes (line)\n     running_routes: function running_routes() {\n\n      let projectPoint = function projectPoint(x, y) {\n        let point = map.latLngToLayerPoint(new L.LatLng(x,y)); // *Check lat lon, lon lat\n          this.stream.point(point.x, point.y);\n      };\n\n      // Transform positions\n      let transform = d3.geoTransform({point: projectPoint}),\n        path = d3.geoPath().projection(transform);\n\n      let svg_rr = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'running-routes');\n      let g_rr = svg_rr.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const runningroutes_svg = document.getElementById('running-routes');\n\n      if (mapInitialize == true) {\n        runningroutes_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(runningroutes_path).then(function(geojson) {\n        let geojson_rr = geojson;\n        let feature_rr = g_rr.selectAll('path')\n                              .data(geojson_rr.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_rr),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_rr.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_rr.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            let zoomLev = map.getZoom();\n\n\t            feature_rr.attr('d', path)\n                   .style('stroke','rgb(247,53,99)')\n                   .style('opacity', 0.3)\n                   .style('stroke-width', ()=>{\n                   \t\tif (zoomLev <= 11) {\n\t                        return 1.5;\n\t                    } else if (zoomLev == 12) {\n\t                        return 2;\n\t                    } else if (zoomLev == 13) {\n\t                        return 3;\n\t                    } else if (zoomLev == 14) {\n\t                        return 4;\n\t                    } else if (zoomLev == 15) {\n\t                        return 5;\n\t                    } else if (zoomLev == 16) {\n\t                \t\treturn 6;\n\t                    } else {\n\t                    \treturn 2;\n\t                    }\n                   })\n                   .style('fill', 'none')\n        \t\t       .attr('class', 'pointer-release'); // Release leaflet's css pointer-event:none\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //rr\n\n    // sports facilities (point)\n    sports_facilities: function sports_facilitie() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_sf = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'sports-facilities');\n\t\t  let g_sf = svg_sf.append('g').attr('class', 'leaflet-zoom-hide');\n\n      //filters go in defs element\n      let defs = svg_sf.append(\"defs\");\n\n      let filter = defs.append(\"filter\")\n          .attr(\"id\", \"dot-blur\");\n\n      filter.append(\"feGaussianBlur\")\n          .attr(\"in\", \"SourceGraphic\")\n          .attr(\"stdDeviation\", 1);\n\n      const sportsfacilities_svg = document.getElementById('sports-facilities');\n\n      if (mapInitialize == true) {\n        sportsfacilities_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(sportsfacilities_path).then(function(geojson) {\n        let geojson_sf = geojson;\n        let feature_sf = g_sf.selectAll('path')\n                              .data(geojson_sf.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_sf),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_sf.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_sf.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_sf.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(254, 90, 60)')\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_sf.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_sf.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_sf.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_sf.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_sf.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_sf.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_sf.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_sf.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_sf.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_sf.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_sf.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200)\n\n              tooltipType.innerText = i.properties.type;\n              tooltipContainerOL.setAttribute('aria-hidden','false');\n\n              if (i.properties.name !== null) {\n                tooltipName.innerText = i.properties.name;\n              } else {\n                tooltipName.innerText = 'Not available';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerOL.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //sf\n\n    // medical facilities (point)\n    medical_facilities: function medical_facilities() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_mf = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'medical-facilities');\n\t\t  let g_mf = svg_mf.append('g').attr('class', 'leaflet-zoom-hide');\n\n      //filters go in defs element\n      let defs = svg_mf.append(\"defs\");\n\n      let filter = defs.append(\"filter\")\n          .attr(\"id\", \"dot-blur\");\n\n      filter.append(\"feGaussianBlur\")\n          .attr(\"in\", \"SourceGraphic\")\n          .attr(\"stdDeviation\", 1);\n\n      const medicalfacilities_svg = document.getElementById('medical-facilities');\n\n      if (mapInitialize == true) {\n        medicalfacilities_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(medicalfacilities_path).then(function(geojson) {\n        let geojson_mf = geojson;\n        let feature_mf = g_mf.selectAll('path')\n                              .data(geojson_mf.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_mf),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_mf.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_mf.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_mf.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(31,120,180)')\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_mf.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_mf.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_mf.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_mf.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_mf.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_mf.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_mf.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_mf.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_mf.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_mf.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_mf.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200);\n\n              tooltipType.innerText = i.properties.type;\n              tooltipContainerOL.setAttribute('aria-hidden','false');\n\n              if (i.properties.name !== null) {\n                tooltipName.innerText = i.properties.name;\n              } else {\n                tooltipName.innerText = 'Not available';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerOL.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //mf\n\n    // community centers (point)\n    community_centers: function community_centers() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_cc = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'community-centers');\n\t\t  let g_cc = svg_cc.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const communitycenters_svg = document.getElementById('community-centers');\n\n      if (mapInitialize == true) {\n        communitycenters_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(communitycenters_path).then(function(geojson) {\n        let geojson_cc = geojson;\n        let feature_cc = g_cc.selectAll('path')\n                              .data(geojson_cc.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_cc),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_cc.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_cc.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_cc.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(244, 240, 52)')\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_cc.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_cc.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_cc.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_cc.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_cc.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_cc.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_cc.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_cc.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_cc.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_cc.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_cc.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200);\n\n              tooltipType.innerText = i.properties.type;\n              tooltipContainerOL.setAttribute('aria-hidden','false');\n\n              if (i.properties.name !== null) {\n                tooltipName.innerText = i.properties.name;\n              } else {\n                tooltipName.innerText = 'Not available';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerOL.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //cc\n\n    // sports shops (point)\n    sports_shops: function sports_shops() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_ss = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'sports-shops');\n\t\t  let g_ss = svg_ss.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const sportsshops_svg = document.getElementById('sports-shops');\n\n      if (mapInitialize == true) {\n        sportsshops_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(sportsshops_path).then(function(geojson) {\n        let geojson_ss = geojson;\n        let feature_ss = g_ss.selectAll('path')\n                              .data(geojson_ss.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_ss),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_ss.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_ss.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_ss.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(134, 87, 147)')\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_ss.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_ss.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_ss.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_ss.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_ss.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_ss.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_ss.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_ss.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_ss.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_ss.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_ss.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200);\n\n              tooltipType.innerText = i.properties.type;\n              tooltipContainerOL.setAttribute('aria-hidden','false');\n\n              if (i.properties.name !== null) {\n                tooltipName.innerText = i.properties.name;\n              } else {\n                tooltipName.innerText = 'Not available';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerOL.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //ss\n\n    // grocery stores (point)\n    grocery_stores: function grocery_stores() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_gs = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'grocery-stores');\n\t\t  let g_gs = svg_gs.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const grocerystores_svg = document.getElementById('grocery-stores');\n\n      if (mapInitialize == true) {\n        grocerystores_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(grocerystores_path).then(function(geojson) {\n        let geojson_gs = geojson;\n        let feature_gs = g_gs.selectAll('path')\n                              .data(geojson_gs.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_gs),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_gs.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_gs.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_gs.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(121, 164, 167)')\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_gs.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_gs.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_gs.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_gs.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_gs.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_gs.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_gs.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_gs.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_gs.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_gs.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_gs.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200);\n\n              tooltipType.innerText = i.properties.type;\n              tooltipContainerOL.setAttribute('aria-hidden','false');\n\n              if (i.properties.name !== null) {\n                tooltipName.innerText = i.properties.name;\n              } else {\n                tooltipName.innerText = 'Not available';\n              }\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerOL.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //gs\n\n    // fast foods (point)\n    fast_foods: function fast_foods() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_ff = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'fast-foods');\n\t\t  let g_ff = svg_ff.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const fastfoods_svg = document.getElementById('fast-foods');\n\n      if (mapInitialize == true) {\n        fastfoods_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(fastfoods_path).then(function(geojson) {\n        geojson_ff = geojson;\n        let feature_ff = g_ff.selectAll('path')\n                              .data(geojson_ff.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_ff),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_ff.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_ff.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_ff.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', 'rgb(164, 101, 30)')\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_ff.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_ff.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_ff.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_ff.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_ff.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_ff.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_ff.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_ff.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_ff.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_ff.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_ff.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200);\n\n            tooltipType.innerText = i.properties.type;\n            tooltipContainerOL.setAttribute('aria-hidden','false');\n\n            if (i.properties.name !== null) {\n              tooltipName.innerText = i.properties.name;\n            } else {\n              tooltipName.innerText = 'Not available';\n            }\n\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerOL.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //ff\n\n    // comments (point)\n    public_concerns: function public_concerns() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_pc = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'public-concerns');\n\t\t  let g_pc = svg_pc.append('g').attr('class', 'leaflet-zoom-hide');\n\n      const publicconcerns_svg = document.getElementById('public-concerns');\n\n      if (mapInitialize == true) {\n        publicconcerns_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(publicconcerns_path).then(function(geojson) {\n        let geojson_pc = geojson;\n        let feature_pc = g_pc.selectAll('path')\n                              .data(geojson_pc.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_pc),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_pc.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_pc.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_pc.attr('d', path)\n              .style('stroke', '#666666') //#bbbbbb\n              .style('stroke-width', '.5px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', (d)=>{\n                if (d.properties.onderwerp == 'Noise problem') {\n                  return 'rgb(253,192,134)';\n                } else if (d.properties.onderwerp == 'Dirty pavement') {\n                    return 'rgb(56,108,176)';\n                } else if (d.properties.onderwerp == 'Sports accommodation') {\n                    return 'rgb(255,255,153)';\n                } else if (d.properties.onderwerp == 'Playground equipment') {\n                    return 'rgb(127,201,127)';\n                } else if (d.properties.onderwerp == 'Unsafe traffic') {\n                    return 'rgb(240,2,127)';\n                } else if (d.properties.onderwerp == 'Bad odor') {\n                      return 'rgb(190,174,212)';\n                }\n              })\n              //.style(\"filter\",\"url(#dot-blur)\")\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.7');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_pc.attr(\"d\", path.pointRadius(4));\n            } else if (zoomLev == 12) {\n                feature_pc.attr(\"d\", path.pointRadius(5));\n            } else if (zoomLev == 13) {\n                feature_pc.attr(\"d\", path.pointRadius(6));\n            } else if (zoomLev == 14) {\n                feature_pc.attr(\"d\", path.pointRadius(7));\n            } else if (zoomLev == 15) {\n                feature_pc.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 16) {\n                feature_pc.attr(\"d\", path.pointRadius(9));\n            } else if (zoomLev == 17) {\n                feature_pc.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 18) {\n                feature_pc.attr(\"d\", path.pointRadius(11));\n            } else if (zoomLev == 19) {\n                feature_pc.attr(\"d\", path.pointRadius(12));\n            } else {\n              feature_pc.attr(\"d\", path.pointRadius(6));\n            }\n\n            feature_pc.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n            console.log('mouseover');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .duration(200);\n\n              tooltipConcernsTopic.innerText = i.properties.onderwerp;\n              tooltipConcernsTime.innerText = i.properties.aangemaakt;\n              tooltipContainerPC.setAttribute('aria-hidden','false');\n\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerPC.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.7)\n              .style('stroke-width', '.5px')\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    }, //cm\n\n    // air quality (point)\n    air_quality: function air_quality() {\n\n      let projectPoint = function projectPoint(x, y) {\n\t\t\t\tlet point = map.latLngToLayerPoint(new L.LatLng(y,x)); // *Check lat lon, lon lat\n\t\t    \tthis.stream.point(point.x, point.y);\n\t\t\t};\n\n\t\t\t// Transform positions\n\t\t\tlet transform = d3.geoTransform({point: projectPoint}),\n\t\t\t\tpath = d3.geoPath().projection(transform);\n\n\t\t\tlet svg_aq = d3.select(map.getPanes().overlayPane).append('svg').attr('id', 'air-quality');\n\t\t  let g_aq = svg_aq.append('g').attr('class', 'leaflet-zoom-hide');\n\n      //filters go in defs element\n      let defs = svg_aq.append(\"defs\");\n\n      let filter = defs.append(\"filter\")\n          .attr(\"id\", \"dot-blur\");\n\n      filter.append(\"feGaussianBlur\")\n          .attr(\"in\", \"SourceGraphic\")\n          .attr(\"stdDeviation\", \"10\");\n\n      airquality_svg = document.getElementById('air-quality');\n\n      if (mapInitialize == true) {\n        airquality_svg.setAttribute('aria-hidden', 'true');\n      }\n\n      d3.json(airquality_path).then(function(geojson) {\n        geojson_aq = geojson;\n        let feature_aq = g_aq.selectAll('path')\n                              .data(geojson_aq.features)\n                              .enter()\n                              .append('path');\n\n        map.on('moveend', reset);\n        reset();\n\n        // Reposition the SVG to cover the features.\n        function reset() {\n          let bounds = path.bounds(geojson_aq),\n            topLeft = bounds[0],\n            bottomRight = bounds[1];\n\n            svg_aq.attr('width', bottomRight[0] - topLeft[0])\n                  .attr('height', bottomRight[1] - topLeft[1])\n                  .style('left', topLeft[0] + 'px')\n                  .style('top', topLeft[1] + 'px')\n                  .style('overflow', 'visible');\n\n            g_aq.attr('transform', 'translate(' + -topLeft[0] + ',' + -topLeft[1] + ')');\n\n            feature_aq.attr('d', path)\n              .style('stroke', '#999') //#bbbbbb\n              .style('stroke-width', '0px')\n              .attr('class', 'leaflet-interactive') // Release leaflet's css pointer-event:none\n              .style('cursor', 'pointer')\n              .style('fill', (d)=> {\n                if (d.properties['PM2.5'] >= 7) {\n                    return 'rgb(115,115,115)';\n                } else if (d.properties['PM2.5'] >= 4 & d.properties['PM2.5'] < 7) {\n                    return 'rgb(189,189,189)';\n                } else if (d.properties['PM2.5'] < 4) {\n                    return 'rgb(240,240,240)';\n                }\n              })\n              .style(\"filter\",\"url(#dot-blur)\")\n              .style('opacity', '0')\n              .transition()\n              .duration(500)\n              .style('opacity', '0.8');\n\n            let zoomLev = map.getZoom();\n\n            if (zoomLev <= 11) {\n                feature_aq.attr(\"d\", path.pointRadius(8));\n            } else if (zoomLev == 12) {\n                feature_aq.attr(\"d\", path.pointRadius(10));\n            } else if (zoomLev == 13) {\n                feature_aq.attr(\"d\", path.pointRadius(12));\n            } else if (zoomLev == 14) {\n                feature_aq.attr(\"d\", path.pointRadius(14));\n            } else if (zoomLev == 15) {\n                feature_aq.attr(\"d\", path.pointRadius(16));\n            } else if (zoomLev == 16) {\n                feature_aq.attr(\"d\", path.pointRadius(18));\n            } else if (zoomLev == 17) {\n                feature_aq.attr(\"d\", path.pointRadius(22));\n            } else if (zoomLev == 18) {\n                feature_aq.attr(\"d\", path.pointRadius(22));\n            } else if (zoomLev == 19) {\n                feature_aq.attr(\"d\", path.pointRadius(24));\n            } else {\n              feature_aq.attr(\"d\", path.pointRadius(12));\n            }\n\n            feature_aq.attr('d', path).on(\"mouseover\", handleMouseOver)\n              .on(\"mouseout\", handleMouseOut);\n\n          function handleMouseOver(d, i) {\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 1)\n              .style('stroke-width', '1px')\n              .style('stroke', '#000') //#bbbbbb\n              .duration(200);\n\n              console.log(i.properties['PM1']);\n\n              if (i.properties['PM1'] != null) {\n                tooltipPM1.innerText = i.properties['PM1'] + \" μg/m3\";\n              } else {\n                tooltipPM1.innerText = 'Not available';\n              }\n\n              if (i.properties['PM2.5'] != null) {\n                tooltipPM25.innerText = i.properties['PM2.5'] + \" μg/m3\";\n              } else {\n                tooltipPM25.innerText = 'Not available';\n              }\n\n              if (i.properties['PM10'] != null) {\n                tooltipPM10.innerText = i.properties['PM10'] + \" μg/m3\";\n              } else {\n                tooltipPM10.innerText = 'Not available';\n              }\n\n              tooltipContainerAQ.setAttribute('aria-hidden','false');\n          } //handleMouseOver\n\n          function handleMouseOut (d, i) {\n            tooltipContainerAQ.setAttribute('aria-hidden','true');\n\n            d3.select(this)\n              .transition()\n              .style('opacity', 0.8)\n              .style('stroke-width', '0px')\n              .style('stroke', '#999') //#bbbbbb\n              .duration(200);\n          }\n\n          //remove loader\n          loader = document.getElementById('loader-bg');\n          loader.setAttribute('aria-hidden','true');\n\n        }// reset\n      })\n    } //aq\n\n  } //mapLayers\n\n  // Render all maplayers first\n  //TODO: See if the map layers can be rendered in background process (Web Worker?)\n  if (mapInitialize == true) {\n\n        mapLayers.basemap_buurt();\n        mapLayers.basemap_stadsdeel();\n        mapLayers.basemap_outline();\n        mapLayers.bennekel();\n        mapLayers.green_area();\n        mapLayers.parks_playgrounds();\n        mapLayers.traffic();\n        mapLayers.bike_routes();\n        mapLayers.running_routes();\n        mapLayers.sports_facilities();\n        mapLayers.medical_facilities();\n        mapLayers.community_centers();\n        mapLayers.sports_shops();\n        mapLayers.grocery_stores();\n        mapLayers.fast_foods();\n        mapLayers.public_concerns();\n        mapLayers.air_quality();\n\n  }\n\n  changeBasemap = function changeBasemap(value){\n    baseStatus = value;\n    if (value == 'stadsdeel'){\n      basebuurt_svg.setAttribute('aria-hidden', 'true');\n      basestadsdeel_svg.setAttribute('aria-hidden', 'false');\n      bindDataBS(selectedAttribute, 'stadsdeel');\n    } else if (value == 'buurt') {\n      basebuurt_svg.setAttribute('aria-hidden', 'false');\n      basestadsdeel_svg.setAttribute('aria-hidden', 'true');\n      bindDataBB(selectedAttribute, 'buurt');\n    }\n  }\n\n  changeAttr = function (newAttr) {\n    selectedAttribute = newAttr;\n    if (baseStatus == 'buurt') {\n      bindDataBB(newAttr, baseStatus);\n      clickedPathActive = false;\n    } else if (baseStatus == 'stadsdeel') {\n      bindDataBS(newAttr, baseStatus);\n    }\n\n    basemapAttr.setAttribute('aria-serected', true);\n    basemapInfo.classList.add('active');\n  };\n\n  // addOverlay\n  addOverlay = function (status, value) {\n    if (status == true && value != undefined) {\n      document.getElementById(value).setAttribute('aria-hidden', 'false');\n    } else if (status == false && value != undefined) {\n      document.getElementById(value).setAttribute('aria-hidden', 'true');\n    }\n  }\n};\n\nfunction initializeMap() {\n  mapInitialize = true;\n  baseStatus = 'buurt';\n  vizmaps();\n}\n\n//Bennekel data viz\nd3.json(bennekeldata_path).then(function(data) {\n  //console.log(data);\n  br1Data = data;\n\n  //sort bars based on value\n      data = data.sort(function (a, b) {\n          return d3.ascending(a.Number, b.Number);\n      })\n\n      //set up svg using margin conventions - we'll need plenty of room on the left for labels\n      let margin = {\n          top: 120,\n          right: 40,\n          bottom: 20,\n          left: 280\n      };\n\n      let width = 600 - margin.left - margin.right,\n          height = 600 - margin.top - margin.bottom;\n\n      let svg = d3.select(\"#Bennekel-modal_inner\").append(\"svg\")\n          .attr(\"width\", width + margin.left + margin.right)\n          .attr(\"height\", height + margin.top + margin.bottom)\n          .append(\"g\")\n          .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      let x = d3.scaleLinear()\n          .rangeRound([0, width])\n          .domain([0, d3.max(data, function (d) {\n              return d.Number;\n          })]);\n\n      let y = d3.scaleBand()\n          .rangeRound([height, 0], .1)\n          .domain(data.map(function (d) {\n              return d.Reasons;\n          }));\n\n      //make y axis to show bar names\n      let yAxis = d3.axisLeft(y)\n          .scale(y)\n          //no tick marks\n          .tickSize(0)\n\n      let xAxis = d3.axisBottom(x);\n\n      let gy = svg.append(\"g\")\n          .attr(\"class\", \"yAxis\")\n          .call(yAxis);\n\n          d3.select(\".yAxis\").select(\"path\").remove();\n\n          d3.select(\".yAxis\")\n            .style(\"font-size\", \"12px\")\n            .style(\"color\", \"#222\")\n            .attr(\"transform\", \"translate(-4,-4)\");\n\n      let bars = svg.selectAll(\".bar\")\n          .data(data)\n          .enter()\n          .append(\"g\")\n\n      //append rects\n      bars.append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"y\", function (d) {\n              return y(d.Reasons);\n          })\n          .attr(\"height\", (y.bandwidth() - 6))\n          .attr(\"x\", 0)\n          .style(\"fill\", \"#5f89ad\")\n          .attr(\"width\", function (d) {\n              return x(d.Number);\n          });\n\n      //add a value label to the right of each bar\n      bars.append(\"text\")\n          .attr(\"class\", \"label\")\n            //y position of the label is halfway down the bar\n            .attr(\"y\", function (d) {\n              return (y(d.Reasons) + 12);\n            })\n            //x position is 3 pixels to the right of the bar\n            .attr(\"x\", function (d) {\n                return (x(d.Number) + 4);\n            })\n            .text(function (d) {\n                return d.Number;\n            });\n\n        svg.selectAll(\".label\")\n        .style(\"fill\",\"#5f89ad\");\n\n});\n","/*\n * SidebarJS\n * Version 8.0.0\n * https://github.com/SidebarJS/sidebarjs#readme\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.SidebarJS = {}));\n}(this, (function (exports) { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var SIDEBARJS = 'sidebarjs';\n  var SIDEBARJS_FALLBACK_NAME = '';\n  var SIDEBARJS_CONTENT = 'sidebarjs-content';\n  var SIDEBARJS_TRANSITION_START = 'sidebarjs--transition-start';\n  var SIDEBARJS_TRANSITION_END = 'sidebarjs--transition-end';\n  var IS_VISIBLE = \"\".concat(SIDEBARJS, \"--is-visible\");\n  var IS_MOVING = \"\".concat(SIDEBARJS, \"--is-moving\");\n  var POSITIONS = [\"left\"\n  /* Left */\n  , \"right\"\n  /* Right */\n  ];\n  var EVENT_LISTENER_OPTIONS = {\n    passive: true\n  };\n  var TOUCH_START = 'touchstart';\n  var TOUCH_MOVE = 'touchmove';\n  var TOUCH_END = 'touchend';\n  var ELEMENT_ACTIONS = ['toggle', 'open', 'close'];\n  var DEFAULT_CONFIG = {\n    documentMinSwipeX: 10,\n    documentSwipeRange: 40,\n    responsive: false,\n    position: \"left\"\n    /* Left */\n    ,\n    backdropOpacity: 0.3\n  };\n  function isStyleMapSupported() {\n    return Boolean(window.CSS && window.CSS.number);\n  }\n  function create(element) {\n    var el = document.createElement('div');\n    el.setAttribute(element, '');\n    return el;\n  }\n  function elemHasListener(elem, value) {\n    return elem && typeof value === 'boolean' ? elem.sidebarjsListener = value : !!elem.sidebarjsListener;\n  }\n  function shouldDefineMainContent(mainContent) {\n    if (mainContent) {\n      mainContent.setAttribute(SIDEBARJS_CONTENT, '');\n      return mainContent;\n    } else {\n      return document.querySelector(\"[\".concat(SIDEBARJS_CONTENT, \"]\"));\n    }\n  }\n  function forEachActionElement(sidebarName, func) {\n    for (var i = 0; i < ELEMENT_ACTIONS.length; i++) {\n      var action = ELEMENT_ACTIONS[i];\n      var elements = document.querySelectorAll(\"[\".concat(SIDEBARJS, \"-\").concat(action, \"=\\\"\").concat(sidebarName, \"\\\"]\"));\n\n      for (var j = 0; j < elements.length; j++) {\n        func(elements[j], action);\n      }\n    }\n  }\n  function targetElementIsBackdrop(e) {\n    return e.target.hasAttribute(\"\".concat(SIDEBARJS, \"-backdrop\"));\n  }\n  function shouldInvokeFunction(fn) {\n    if (fn) {\n      fn();\n    }\n  }\n\n  var SidebarElement = /*#__PURE__*/function () {\n    function SidebarElement() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _classCallCheck(this, SidebarElement);\n\n      this.toggle = function () {\n        _this.isVisible() ? _this.close() : _this.open();\n      };\n\n      this.open = function () {\n        _this.addComponentClass(IS_VISIBLE);\n\n        _this.setBackdropOpacity(_this.backdropOpacity);\n      };\n\n      this.close = function () {\n        _this.removeComponentClass(IS_VISIBLE);\n\n        _this.clearStyle(_this.backdrop);\n      };\n\n      this._onTouchStart = function (e) {\n        _this.initialTouch = e.touches[0].pageX;\n      };\n\n      this._onTouchMove = function (e) {\n        var swipeDirection = -(_this.initialTouch - e.touches[0].clientX);\n        var sidebarMovement = _this.container.clientWidth + (_this.hasLeftPosition() ? swipeDirection : -swipeDirection);\n\n        if (sidebarMovement <= _this.container.clientWidth) {\n          _this.touchMoveSidebar = Math.abs(swipeDirection);\n\n          _this.moveSidebar(swipeDirection);\n        }\n      };\n\n      this._onTouchEnd = function () {\n        _this.removeComponentClass(IS_MOVING);\n\n        _this.clearStyle(_this.container);\n\n        _this.clearStyle(_this.backdrop);\n\n        _this.touchMoveSidebar > _this.container.clientWidth / 3.5 ? _this.close() : _this.open();\n        _this.initialTouch = null;\n        _this.touchMoveSidebar = null;\n      };\n\n      this._onSwipeOpenStart = function (e) {\n        if (targetElementIsBackdrop(e)) {\n          return;\n        }\n\n        var touchPositionX = e.touches[0].clientX;\n        var documentTouch = _this.hasLeftPosition() ? touchPositionX : document.body.clientWidth - touchPositionX;\n\n        if (documentTouch < _this.documentSwipeRange) {\n          _this._onTouchStart(e);\n        }\n      };\n\n      this._onSwipeOpenMove = function (e) {\n        if (!targetElementIsBackdrop(e) && _this.initialTouch && !_this.isVisible()) {\n          var documentSwiped = e.touches[0].clientX - _this.initialTouch;\n\n          var hasLeftPosition = _this.hasLeftPosition();\n\n          var swipeX = hasLeftPosition ? documentSwiped : -documentSwiped;\n          var sidebarMovement = _this.container.clientWidth - swipeX;\n\n          if (sidebarMovement > 0 && swipeX >= _this.documentMinSwipeX) {\n            _this.openMovement = hasLeftPosition ? -sidebarMovement : sidebarMovement;\n\n            _this.moveSidebar(_this.openMovement);\n          }\n        }\n      };\n\n      this._onSwipeOpenEnd = function () {\n        if (_this.openMovement) {\n          _this.openMovement = null;\n\n          _this._onTouchEnd();\n        }\n      };\n\n      this._onTransitionStart = function () {\n        var _this$getTransitionTy = _this.getTransitionType(),\n            open = _this$getTransitionTy.open,\n            close = _this$getTransitionTy.close;\n\n        if (open || close) {\n          _this.toggleTransitionClass(true);\n        }\n      };\n\n      this._onTransitionEnd = function () {\n        var _this$getTransitionTy2 = _this.getTransitionType(),\n            open = _this$getTransitionTy2.open,\n            close = _this$getTransitionTy2.close,\n            isVisible = _this$getTransitionTy2.isVisible;\n\n        if (open || close) {\n          _this.toggleTransitionClass(false);\n        }\n\n        if (open) {\n          _this._wasVisible = true;\n          shouldInvokeFunction(_this._emitOnOpen);\n        } else if (close) {\n          _this._wasVisible = false;\n          shouldInvokeFunction(_this._emitOnClose);\n        }\n\n        if (_this._emitOnChangeVisibility) {\n          _this._emitOnChangeVisibility({\n            isVisible: isVisible\n          });\n        }\n      };\n\n      this.nativeGestures = new Map([[TOUCH_START, this._onTouchStart], [TOUCH_MOVE, this._onTouchMove], [TOUCH_END, this._onTouchEnd]]);\n      this.nativeOpenGestures = new Map([[TOUCH_START, this._onSwipeOpenStart], [TOUCH_MOVE, this._onSwipeOpenMove], [TOUCH_END, this._onSwipeOpenEnd]]);\n\n      var config = _objectSpread2(_objectSpread2({}, DEFAULT_CONFIG), options);\n\n      var hasCustomTransclude = config.container && config.backdrop;\n      this.component = config.component || document.querySelector(\"[\".concat(SIDEBARJS, \"]\"));\n      this.container = hasCustomTransclude ? config.container : create(\"\".concat(SIDEBARJS, \"-container\"));\n      this.backdrop = hasCustomTransclude ? config.backdrop : create(\"\".concat(SIDEBARJS, \"-backdrop\"));\n      this.documentMinSwipeX = config.documentMinSwipeX;\n      this.documentSwipeRange = config.documentSwipeRange;\n      this.nativeSwipe = config.nativeSwipe !== false;\n      this.nativeSwipeOpen = config.nativeSwipeOpen !== false;\n      this.isStyleMapSupported = isStyleMapSupported();\n      this.responsive = Boolean(config.responsive);\n      this.mainContent = shouldDefineMainContent(config.mainContent);\n      this.backdropOpacity = config.backdropOpacity;\n      this.backdropOpacityRatio = 1 / config.backdropOpacity;\n      this._emitOnOpen = config.onOpen;\n      this._emitOnClose = config.onClose;\n      this._emitOnChangeVisibility = config.onChangeVisibility;\n\n      if (!hasCustomTransclude) {\n        try {\n          this.transcludeContent();\n        } catch (e) {\n          throw new Error('You must define an element with [sidebarjs] attribute');\n        }\n      }\n\n      this.setSwipeGestures(true);\n\n      if (this.responsive || this.mainContent) {\n        this.setResponsive();\n      }\n\n      this.setPosition(config.position);\n      this.addAttrsEventsListeners(this.component.getAttribute(SIDEBARJS));\n      this.addTransitionListener();\n      this.backdrop.addEventListener('click', this.close, EVENT_LISTENER_OPTIONS);\n    }\n\n    _createClass(SidebarElement, [{\n      key: \"isVisible\",\n      value: function isVisible() {\n        return this.component.classList.contains(IS_VISIBLE);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        var _this2 = this;\n\n        this.removeNativeGestures();\n        this.container.removeEventListener('transitionstart', this._onTransitionStart);\n        this.container.removeEventListener('transitionend', this._onTransitionEnd);\n        this.backdrop.removeEventListener('click', this.close);\n        this.removeNativeOpenGestures();\n        this.removeAttrsEventsListeners(this.component.getAttribute(SIDEBARJS));\n        this.removeComponentClassPosition();\n\n        while (this.container.firstElementChild) {\n          this.component.appendChild(this.container.firstElementChild);\n        }\n\n        this.component.removeChild(this.container);\n        this.component.removeChild(this.backdrop);\n        Object.keys(this).forEach(function (key) {\n          return _this2[key] = null;\n        });\n      }\n    }, {\n      key: \"setPosition\",\n      value: function setPosition(position) {\n        var _this3 = this;\n\n        this.addComponentClass(IS_MOVING);\n        this.position = POSITIONS.indexOf(position) >= 0 ? position : \"left\"\n        /* Left */\n        ;\n        var resetMainContent = (document.querySelectorAll(\"[\".concat(SIDEBARJS, \"]\")) || []).length === 1;\n        this.removeComponentClassPosition(resetMainContent);\n        this.addComponentClass(\"\".concat(SIDEBARJS, \"--\").concat(this.position));\n\n        if (this.responsive && this.mainContent) {\n          this.mainContent.classList.add(\"\".concat(SIDEBARJS_CONTENT, \"--\").concat(this.position));\n        }\n\n        setTimeout(function () {\n          return _this3.component && _this3.removeComponentClass(IS_MOVING);\n        }, 200);\n      }\n    }, {\n      key: \"addAttrsEventsListeners\",\n      value: function addAttrsEventsListeners(sidebarName) {\n        var _this4 = this;\n\n        forEachActionElement(sidebarName, function (element, action) {\n          if (!elemHasListener(element)) {\n            element.addEventListener('click', _this4[action], EVENT_LISTENER_OPTIONS);\n            elemHasListener(element, true);\n          }\n        });\n      }\n    }, {\n      key: \"removeAttrsEventsListeners\",\n      value: function removeAttrsEventsListeners(sidebarName) {\n        var _this5 = this;\n\n        forEachActionElement(sidebarName, function (element, action) {\n          if (elemHasListener(element)) {\n            element.removeEventListener('click', _this5[action]);\n            elemHasListener(element, false);\n          }\n        });\n      }\n    }, {\n      key: \"setSwipeGestures\",\n      value: function setSwipeGestures(value) {\n        if (typeof value !== 'boolean') {\n          throw new Error(\"You provided a \".concat(_typeof(value), \" value but setSwipeGestures needs a boolean value.\"));\n        }\n\n        if (this.nativeSwipe) {\n          value ? this.addNativeGestures() : this.removeNativeGestures();\n\n          if (this.nativeSwipeOpen) {\n            value ? this.addNativeOpenGestures() : this.removeNativeOpenGestures();\n          }\n        }\n      }\n    }, {\n      key: \"getTransitionType\",\n      value: function getTransitionType() {\n        var isVisible = this.isVisible();\n        var open = isVisible && !this._wasVisible;\n        var close = !isVisible && this._wasVisible;\n        return {\n          open: open,\n          close: close,\n          isVisible: isVisible\n        };\n      }\n    }, {\n      key: \"toggleTransitionClass\",\n      value: function toggleTransitionClass(isStart) {\n        this.toggleComponentClass(SIDEBARJS_TRANSITION_END, !isStart);\n        this.toggleComponentClass(SIDEBARJS_TRANSITION_START, isStart);\n      }\n    }, {\n      key: \"addTransitionListener\",\n      value: function addTransitionListener() {\n        this._wasVisible = this.isVisible();\n        this.container.addEventListener('transitionstart', this._onTransitionStart, EVENT_LISTENER_OPTIONS);\n        this.container.addEventListener('transitionend', this._onTransitionEnd, EVENT_LISTENER_OPTIONS);\n      }\n    }, {\n      key: \"removeComponentClassPosition\",\n      value: function removeComponentClassPosition(resetMainContent) {\n        for (var i = 0; i < POSITIONS.length; i++) {\n          this.removeComponentClass(\"\".concat(SIDEBARJS, \"--\").concat(POSITIONS[i]));\n\n          if (resetMainContent && this.mainContent) {\n            this.mainContent.classList.remove(\"\".concat(SIDEBARJS_CONTENT, \"--\").concat(POSITIONS[i]));\n          }\n        }\n      }\n    }, {\n      key: \"hasLeftPosition\",\n      value: function hasLeftPosition() {\n        return this.position === \"left\"\n        /* Left */\n        ;\n      }\n    }, {\n      key: \"hasRightPosition\",\n      value: function hasRightPosition() {\n        return this.position === \"right\"\n        /* Right */\n        ;\n      }\n    }, {\n      key: \"transcludeContent\",\n      value: function transcludeContent() {\n        while (this.component.firstChild) {\n          this.container.appendChild(this.component.firstChild);\n        }\n\n        while (this.component.firstChild) {\n          this.component.removeChild(this.component.firstChild);\n        }\n\n        this.component.appendChild(this.container);\n        this.component.appendChild(this.backdrop);\n      }\n    }, {\n      key: \"addNativeGestures\",\n      value: function addNativeGestures() {\n        var _this6 = this;\n\n        this.nativeGestures.forEach(function (action, event) {\n          _this6.component.addEventListener(event, action, EVENT_LISTENER_OPTIONS);\n        });\n      }\n    }, {\n      key: \"removeNativeGestures\",\n      value: function removeNativeGestures() {\n        var _this7 = this;\n\n        this.nativeGestures.forEach(function (action, event) {\n          _this7.component.removeEventListener(event, action);\n        });\n      }\n    }, {\n      key: \"addNativeOpenGestures\",\n      value: function addNativeOpenGestures() {\n        this.nativeOpenGestures.forEach(function (action, event) {\n          document.addEventListener(event, action, EVENT_LISTENER_OPTIONS);\n        });\n      }\n    }, {\n      key: \"removeNativeOpenGestures\",\n      value: function removeNativeOpenGestures() {\n        this.nativeOpenGestures.forEach(function (action, event) {\n          document.removeEventListener(event, action);\n        });\n      }\n    }, {\n      key: \"moveSidebar\",\n      value: function moveSidebar(movement) {\n        this.addComponentClass(IS_MOVING);\n        this.applyStyle(this.container, 'transform', \"translate(\".concat(movement, \"px, 0)\"), true);\n        this.updateBackdropOpacity(movement);\n      }\n    }, {\n      key: \"updateBackdropOpacity\",\n      value: function updateBackdropOpacity(movement) {\n        var swipeProgress = 1 - Math.abs(movement) / this.container.clientWidth;\n        var opacity = swipeProgress / this.backdropOpacityRatio;\n        this.setBackdropOpacity(opacity);\n      }\n    }, {\n      key: \"setBackdropOpacity\",\n      value: function setBackdropOpacity(opacity) {\n        this.applyStyle(this.backdrop, 'opacity', opacity.toString());\n      }\n    }, {\n      key: \"setResponsive\",\n      value: function setResponsive() {\n        if (!this.responsive && this.mainContent) {\n          throw new Error(\"You provide a [\".concat(SIDEBARJS_CONTENT, \"] element without set {responsive: true}\"));\n        }\n\n        if (this.responsive && !this.mainContent) {\n          throw new Error(\"You have set {responsive: true} without provide a [\".concat(SIDEBARJS_CONTENT, \"] element\"));\n        }\n\n        this.addComponentClass('sidebarjs--responsive');\n      }\n    }, {\n      key: \"applyStyle\",\n      value: function applyStyle(el, prop, val, vendorify) {\n        if (this.isStyleMapSupported) {\n          el.attributeStyleMap.set(prop, val);\n        } else {\n          el.style[prop] = val;\n\n          if (vendorify) {\n            var vendor = 'webkit' + prop.charAt(0).toUpperCase() + prop.slice(1);\n            el.style[vendor] = val;\n          }\n        }\n      }\n    }, {\n      key: \"clearStyle\",\n      value: function clearStyle(el) {\n        if (this.isStyleMapSupported) {\n          el.attributeStyleMap.clear();\n        } else {\n          el.removeAttribute('style');\n        }\n      }\n    }, {\n      key: \"addComponentClass\",\n      value: function addComponentClass(className) {\n        this.component.classList.add(className);\n      }\n    }, {\n      key: \"removeComponentClass\",\n      value: function removeComponentClass(className) {\n        this.component.classList.remove(className);\n      }\n    }, {\n      key: \"toggleComponentClass\",\n      value: function toggleComponentClass(className, force) {\n        this.component.classList.toggle(className, force);\n      }\n    }]);\n\n    return SidebarElement;\n  }();\n\n  var SidebarService = /*#__PURE__*/function () {\n    function SidebarService() {\n      _classCallCheck(this, SidebarService);\n\n      this.instances = {};\n    }\n\n    _createClass(SidebarService, [{\n      key: \"fallbackName\",\n      value: function fallbackName(sidebarName) {\n        return sidebarName || SIDEBARJS_FALLBACK_NAME;\n      }\n    }, {\n      key: \"getInstance\",\n      value: function getInstance(sidebarName) {\n        return this.instances[this.fallbackName(sidebarName)];\n      }\n    }, {\n      key: \"create\",\n      value: function create(options) {\n        var _options$component;\n\n        var name = this.fallbackName(options === null || options === void 0 ? void 0 : (_options$component = options.component) === null || _options$component === void 0 ? void 0 : _options$component.getAttribute(SIDEBARJS));\n        this.instances[name] = new SidebarElement(options);\n        return this.instances[name];\n      }\n    }, {\n      key: \"open\",\n      value: function open(sidebarName) {\n        var _this$getInstance;\n\n        (_this$getInstance = this.getInstance(sidebarName)) === null || _this$getInstance === void 0 ? void 0 : _this$getInstance.open();\n      }\n    }, {\n      key: \"close\",\n      value: function close(sidebarName) {\n        var _this$getInstance2;\n\n        (_this$getInstance2 = this.getInstance(sidebarName)) === null || _this$getInstance2 === void 0 ? void 0 : _this$getInstance2.close();\n      }\n    }, {\n      key: \"toggle\",\n      value: function toggle(sidebarName) {\n        var _this$getInstance3;\n\n        (_this$getInstance3 = this.getInstance(sidebarName)) === null || _this$getInstance3 === void 0 ? void 0 : _this$getInstance3.toggle();\n      }\n    }, {\n      key: \"isVisible\",\n      value: function isVisible(sidebarName) {\n        var _this$getInstance4;\n\n        return !!((_this$getInstance4 = this.getInstance(sidebarName)) !== null && _this$getInstance4 !== void 0 && _this$getInstance4.isVisible());\n      }\n    }, {\n      key: \"setPosition\",\n      value: function setPosition(position, sidebarName) {\n        var _this$getInstance5;\n\n        (_this$getInstance5 = this.getInstance(sidebarName)) === null || _this$getInstance5 === void 0 ? void 0 : _this$getInstance5.setPosition(position);\n      }\n    }, {\n      key: \"elemHasListener\",\n      value: function elemHasListener$1(elem, value) {\n        return elemHasListener(elem, value);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy(sidebarName) {\n        var name = this.fallbackName(sidebarName);\n\n        if (this.instances[name]) {\n          this.instances[name].destroy();\n          this.instances[name] = null;\n          delete this.instances[name];\n        }\n      }\n    }]);\n\n    return SidebarService;\n  }();\n\n  exports.SidebarElement = SidebarElement;\n  exports.SidebarService = SidebarService;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":"webpack:///"}